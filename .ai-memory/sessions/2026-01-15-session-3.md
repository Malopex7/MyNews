# Session: User Service & DB Schema
**Date**: 2026-01-15  
**Started**: 23:02

## Objective
Implement the "User Service & DB Schema" item from Phase 1 Core Backend roadmap.

## Completed
- ✅ User model restructured with nested `profile` and `metrics` subdocuments
- ✅ Added `username` field (unique, for public profiles)
- ✅ Created `Follow` model for follower relationships
- ✅ Expanded `userService` with profile, follow, and metrics operations
- ✅ Added new API endpoints: public profile, follow/unfollow, followers/following
- ✅ Updated shared packages (`@packages/schemas`, `@packages/domain`)
- ✅ Updated `authController` for new response format

## Files Changed
| Area | Files |
|------|-------|
| Backend Models | `User.ts`, `Follow.ts` (new), `index.ts` |
| Backend Services | `userService.ts`, `authService.ts` |
| Backend Controllers | `userController.ts`, `authController.ts` |
| Backend Routes | `userRoutes.ts` |
| Shared Schemas | `user.ts`, `auth.ts` |
| Shared Domain | `constants.ts` |
| Docs | `roadmap.md` |

## Notes
- Kept `role` (`user`/`admin`) for auth per architecture.md protection
- Used `profileType` (`viewer`/`creator`) for user-facing type selection
- Username auto-generated from email if not provided during registration
